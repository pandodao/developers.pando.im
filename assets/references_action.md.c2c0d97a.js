import{_ as s,o,c as a,a as e}from"./app.d08ad362.js";const C=JSON.parse('{"title":"Action Specification","description":"","frontmatter":{},"headers":[{"level":2,"title":"MMISG","slug":"mmisg","link":"#mmisg","children":[]},{"level":2,"title":"Pando Action Protocol","slug":"pando-action-protocol","link":"#pando-action-protocol","children":[]},{"level":2,"title":"Pando Action Protocol Header","slug":"pando-action-protocol-header","link":"#pando-action-protocol-header","children":[]},{"level":2,"title":"Pando Action Protocol Payload","slug":"pando-action-protocol-payload","link":"#pando-action-protocol-payload","children":[]}],"relativePath":"references/action.md"}'),n={name:"references/action.md"},l=e(`<h1 id="action-specification" tabindex="-1">Action Specification <a class="header-anchor" href="#action-specification" aria-hidden="true">#</a></h1><div class="warning custom-block"><p class="custom-block-title">DRAFT PROPOSAL</p><p>The section is a draft proposal, it&#39;s not finalized yet.</p></div><p>Action is a byte array which contains the data and instructions for the protocol to execute. In practice, the action is encoded in the transaction memo field, which is very limited in size. So the action should be as compact as possible.</p><p>To make the action compatible with URL encoding, we usually use base64 to encode the action.</p><h2 id="mmisg" tabindex="-1">MMISG <a class="header-anchor" href="#mmisg" aria-hidden="true">#</a></h2><p><code>MMISG</code> is standard for &quot;Mixin Milti-signature Group address&quot;. It&#39;s an address format to describe a multisig group or a single user in Mixin Network. It&#39;s supported by Pando&#39;s protocols and CoWallet.</p><p>A normal MMISG can be represented as following:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span>
<span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">member_count</span></span>
<span class="line"><span style="color:#F07178;">1     bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">threshold</span></span>
<span class="line"><span style="color:#F07178;">N     bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">members</span></span>
<span class="line"></span></code></pre></div><p>in which <code>version</code> is the version of the address, <code>member_count</code> is the number of members in the group, <code>threshold</code> is the threshold of the group, and <code>members</code> is the list of membersâ€™ uuids. Note that <code>members</code> should be always a multiple of 16.</p><p>In particular, if <code>member_count</code> is 1, then the address is a single user address, the <code>threshold</code> chould be omitted.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span>
<span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">member_count (1)</span></span>
<span class="line"><span style="color:#F07178;">16    bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">member_uuid</span></span>
<span class="line"></span></code></pre></div><p>If <code>member_count</code> is 0, then the address is a null address, the <code>threshold</code> and <code>members</code> should be omitted.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span>
<span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">member_count (0)</span></span>
<span class="line"></span></code></pre></div><h2 id="pando-action-protocol" tabindex="-1">Pando Action Protocol <a class="header-anchor" href="#pando-action-protocol" aria-hidden="true">#</a></h2><p>Each action chould be constructed as a header and a payload. The header is used to identify the protocol and the action, and the payload is the data of the action.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F07178;">5~21  bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">header</span></span>
<span class="line"><span style="color:#F07178;">N     bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">payload</span></span>
<span class="line"></span></code></pre></div><h2 id="pando-action-protocol-header" tabindex="-1">Pando Action Protocol Header <a class="header-anchor" href="#pando-action-protocol-header" aria-hidden="true">#</a></h2><p>Protocol Header contains the version of the protocol, the protocol id, <code>follow_id</code> to trace it and the action.</p><p>It&#39;s used to identify the protocol and the action in the payload.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span>
<span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">protocol_id</span></span>
<span class="line"><span style="color:#F07178;">1     byte</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">has_follow_id or not.</span></span>
<span class="line"><span style="color:#F07178;">16    bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">follow_id, only if the previous byte = 1</span></span>
<span class="line"><span style="color:#F07178;">2     bytes</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">action</span></span>
<span class="line"></span></code></pre></div><p>In which,</p><ul><li><code>protocol_id</code> is described in <a href="./overview.html#protocol-id">previous section</a>.</li><li><code>has_follow_id</code> is a boolean value, if it&#39;s 1, then the <code>follow_id</code> is included in the header, otherwise it&#39;s not.</li><li><code>follow_id</code> is a 16 bytes uuid, it&#39;s used to trace the action. It can be omitted if the <code>has_follow_id</code> is 0.</li><li><code>action</code> is the action id. The meaning of the action id is described by the protocol.</li></ul><h2 id="pando-action-protocol-payload" tabindex="-1">Pando Action Protocol Payload <a class="header-anchor" href="#pando-action-protocol-payload" aria-hidden="true">#</a></h2><p>The protocol body is attached to the protocol header. You can define the content according to your own needs</p><ul><li><a href="./4swap/action.html">4swap</a></li><li><a href="./leaf/action.html">Leaf</a></li></ul>`,25),t=[l];function c(p,i,r,d,h,y){return o(),a("div",null,t)}const m=s(n,[["render",c]]);export{C as __pageData,m as default};
